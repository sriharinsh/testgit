vagrant up
vagrant ssh
sudo su
docker ps -a
docker restart d8490999e9c0


nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/vagdemo
$ vagrant init youske/centos7-docker
A `Vagrantfile` has been placed in this directory. You are now
ready to `vagrant up` your first virtual environment! Please read
the comments in the Vagrantfile as well as documentation on
`vagrantup.com` for more information on using Vagrant.

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/vagdemo
$ vagrant plugin install vagrant-vbguest
Installing the 'vagrant-vbguest' plugin. This can take a few minutes...
Installed the plugin 'vagrant-vbguest (0.13.0)'!

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/vagdemo
$ vagrant up
Bringing machine 'default' up with 'virtualbox' provider...
==> default: Box 'youske/centos7-docker' could not be found. Attempting to find                                                                                                                 and install...
    default: Box Provider: virtualbox
    default: Box Version: >= 0
==> default: Loading metadata for box 'youske/centos7-docker'
    default: URL: https://atlas.hashicorp.com/youske/centos7-docker
==> default: Adding box 'youske/centos7-docker' (v0.0.1) for provider: virtualbox
    default: Downloading: https://atlas.hashicorp.com/youske/boxes/centos7-docker/versions/0.0.1/providers/virtualbox.box
    default:
==> default: Successfully added box 'youske/centos7-docker' (v0.0.1) for 'virtualbox'!
==> default: Importing base box 'youske/centos7-docker'...
==> default: Matching MAC address for NAT networking...
==> default: Checking if box 'youske/centos7-docker' is up to date...
==> default: Setting the name of the VM: vagdemo_default_1483551537069_83626
==> default: Clearing any previously set network interfaces...
==> default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
==> default: Forwarding ports...
    default: 22 (guest) => 2222 (host) (adapter 1)
==> default: Booting VM...
==> default: Waiting for machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: private key
    default:
    default: Vagrant insecure key detected. Vagrant will automatically replace
    default: this with a newly generated keypair for better security.
    default:
    default: Inserting generated public key within guest...
    default: Removing insecure key from the guest if it's present...
    default: Key inserted! Disconnecting and reconnecting using new SSH key...
==> default: Machine booted and ready!
[default] GuestAdditions versions on your host (5.1.8) and guest (4.3.28) do not match.
sudo: sorry, you must have a tty to run sudo

==> default: Checking for guest additions in VM...
    default: The guest additions on this VM do not match the installed version of
    default: VirtualBox! In most cases this is fine, but in rare cases it can
    default: prevent things such as shared folders from working properly. If you see
    default: shared folder errors, please make sure the guest additions within the
    default: virtual machine match the version of VirtualBox you have installed on
    default: your host and reload your VM.
    default:
    default: Guest Additions Version: 4.3.28
    default: VirtualBox Version: 5.1
The following SSH command responded with a non-zero exit status.
Vagrant assumes that this means the command failed!

yum install -y kernel-devel-`uname -r` gcc binutils make perl bzip2

Stdout from the command:



Stderr from the command:

sudo: sorry, you must have a tty to run sudo

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/vagdemo
$ vagrant ssh
Last login: Thu Jul  2 02:08:24 2015 from 10.0.2.2
Welcome to your Packer-built virtual machine.
[vagrant@localhost ~]$ sudo su
[root@localhost vagrant]# docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
[root@localhost vagrant]# docker run -p 8080:8080 -p 50000:50000 jenkins
Unable to find image 'jenkins:latest' locally
latest: Pulling from docker.io/jenkins
32734c6d04f6: Downloading [==>                                                ] 2.089 MB/51.36 MB
1849b6667515: Download complete
4dc0c76ee6ce: Downloading [====>                                              ] 1.568 MB/18.53 MB
b74c739ef73e: Downloading [=====>                                             ] 4.265 MB/42.5 MB
0f30f0ce72f4: Downloading [============>                                      ] 146.6 kB/593.4 kB
004183c01118: Download complete
6fe11944d495: Download complete
0a3cfb2cec95: Download complete
2a28cabb9d82: Download complete
6fe23d3dcd12: Pulling fs layer
338f1cafbbad: Download complete
0992e6409757: Pulling fs layer
e95509e76ecf: Downloading [>                                                  ] 1.621 MB/130.1 MB
bfe249e07a92: Download complete
b97fead8d864: Pulling fs layer
e21b217f5264: Download complete
75407aa8520f: Pulling fs layer
412eaad2ea08: Pulling fs layer
e69c28e9008e: Pulling fs layer
86bea668a9e7: Download complete
a4ce669ada28: Download complete
a42d547179c4: Pulling fs layer
aeb41b741812: Pulling fs layer
6edc1f34d2f2: Pulling fs layer
e59490147bc5: Pulling fs layer
502d044c108e: Download complete
30be40fd1f15: Pulling fs layer
565192d357df: Pulling fs layer
ee849e38dff3: Download complete
f8cd77e00c65: Pulling fs layer
4a202045589d: Pulling fs layer
1dc32e220433: Pulling fs layer
b50066a3915d: Pulling fs layer
d2cf7674b3b5: Pulling fs layer
2a5b33056553: Pulling fs layer
a5a2cfe03494: Pulling fs layer
a52e6bead4cc: Pulling fs layer
9b9b72bcf521: Pulling fs layer
7936be550397: Pulling fs layer
f695b30303ea: Pulling fs layer
ebfa5c403598: Pulling fs layer
bea936a65a48: Download complete
6b54cc95a58d: Pulling fs layer
769a0c9a68c8: Pulling fs layer
^C[root@localhost vagrant]# docker run -p 8080:8080 -p 50000:50000 jenkins:1.625.2
Unable to find image 'jenkins:1.625.2' locally
1.625.2: Pulling from docker.io/jenkins
6d1ae97ee388: Pull complete
6d1ae97ee388: Download complete
8b9a99209d5c: Download complete
2e05a52ffd47: Download complete
80887d145531: Downloading [=======>                                           ] 6.389 MB/42.32 MB
c973ca63d25f: Download complete
88a622d91bc9: Download complete
e05daba205ac: Download complete
1915a5906f90: Download complete
34550d1658f3: Download complete
f629bd96ef4d: Download complete
83da95e9d912: Download complete
e9de8c6faf15: Download complete
c1c01b7c9843: Download complete
7d255c9ad9ab: Download complete
983080009af7: Download complete
46872cf55d9b: Download complete
c46d5c502131: Download complete
71ceef776c9d: Download complete
a1ed606d1b1b: Download complete
d60a2d1719d9: Download complete
f110a1abf652: Download complete
96e7efa0161f: Download complete
9ba98df7e407: Download complete
85d4b9505cdd: Download complete
55e28e7213c7: Download complete
f60d06dc23d2: Download complete
953cb3aa04b7: Download complete
7c4ca702f7bf: Download complete
b5f53e79dc2a: Download complete
2bcb8ee53343: Download complete
a41e1b433073: Download complete
f0e9b6ba3a93: Download complete
8fcfb9fa55b8: Download complete
Status: Downloaded newer image for docker.io/jenkins:1.625.2
Usage of loopback devices is strongly discouraged for production use. Either use `--storage-opt dm.thinpooldev` or use `--storage-opt dm.no_warn_on_loop_devices=true` to suppress this warning.
Running from: /usr/share/jenkins/jenkins.war
webroot: EnvVars.masterEnvVars.get("JENKINS_HOME")
Jan 04, 2017 5:53:10 PM winstone.Logger logInternal
INFO: Beginning extraction from war file
Jan 04, 2017 5:53:16 PM org.eclipse.jetty.util.log.JavaUtilLog info
INFO: jetty-winstone-2.8
Jan 04, 2017 5:53:20 PM org.eclipse.jetty.util.log.JavaUtilLog info
INFO: NO JSP Support for , did not find org.apache.jasper.servlet.JspServlet
Jenkins home directory: /var/jenkins_home found at: EnvVars.masterEnvVars.get("JENKINS_HOME")
Jan 04, 2017 5:53:24 PM org.eclipse.jetty.util.log.JavaUtilLog info
INFO: Started SelectChannelConnector@0.0.0.0:8080
Jan 04, 2017 5:53:24 PM winstone.Logger logInternal
INFO: Winstone Servlet Engine v2.0 running: controlPort=disabled
Jan 04, 2017 5:53:25 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Jan 04, 2017 5:53:43 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Jan 04, 2017 5:53:43 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Jan 04, 2017 5:53:43 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Jan 04, 2017 5:53:49 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Jan 04, 2017 5:53:53 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Jan 04, 2017 5:53:54 PM hudson.model.AsyncPeriodicWork$1 run
INFO: Started Download metadata
Jan 04, 2017 5:53:55 PM org.jenkinsci.main.modules.sshd.SSHD start
INFO: Started SSHD at port 33661
Jan 04, 2017 5:53:56 PM jenkins.util.groovy.GroovyHookScript execute
INFO: Executing /var/jenkins_home/init.groovy.d/tcp-slave-agent-port.groovy
Jan 04, 2017 5:53:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Jan 04, 2017 5:53:57 PM hudson.WebAppMain$3 run
INFO: Jenkins is fully up and running
--> setting agent port for jnlp
--> setting agent port for jnlp... done
Jan 04, 2017 5:54:09 PM hudson.model.UpdateSite updateData
INFO: Obtained the latest update center data file for UpdateSource default
Jan 04, 2017 5:54:10 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tasks.Maven.MavenInstaller
Jan 04, 2017 5:54:11 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tasks.Ant.AntInstaller
Jan 04, 2017 5:54:14 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tools.JDKInstaller
Jan 04, 2017 5:54:14 PM hudson.model.AsyncPeriodicWork$1 run
INFO: Finished Download metadata. 20,493 ms
^CJan 04, 2017 5:55:44 PM winstone.Logger logInternal
INFO: JVM is terminating. Shutting down Winstone
[root@localhost vagrant]# ^C
[root@localhost vagrant]# ^C
[root@localhost vagrant]# exit
exit
[vagrant@localhost ~]$ exit
logout
Connection to 127.0.0.1 closed.

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/vagdemo
$ vagrant up
There is a syntax error in the following Vagrantfile. The syntax error
message is reproduced below for convenience:

C:/Users/nag/Desktop/vagdemo/Vagrantfile:26: syntax error, unexpected '.', expecting keyword_end
  .vm.network "forwarded_port", guest: 8080, host: 8080
   ^
C:/Users/nag/Desktop/vagdemo/Vagrantfile:27: syntax error, unexpected tSTRING_BEG, expecting keyword_end
  .vm.network "forwarded_port", guest: 50000, host: 50000
               ^
C:/Users/nag/Desktop/vagdemo/Vagrantfile:27: syntax error, unexpected ',', expecting keyword_end
  .vm.network "forwarded_port", guest: 50000, host: 50000
                               ^

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/vagdemo
$ vagrant up

Bringing machine 'default' up with 'virtualbox' provider...
==> default: Checking if box 'youske/centos7-docker' is up to date...
==> default: Clearing any previously set forwarded ports...
==> default: Clearing any previously set network interfaces...
==> default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
==> default: Forwarding ports...
    default: 8080 (guest) => 8080 (host) (adapter 1)
    default: 50000 (guest) => 50000 (host) (adapter 1)
    default: 22 (guest) => 2222 (host) (adapter 1)
==> default: Booting VM...
==> default: Waiting for machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: private key
==> default: Machine booted and ready!
[default] GuestAdditions versions on your host (5.1.8) and guest (4.3.28) do not match.
sudo: sorry, you must have a tty to run sudo

==> default: Checking for guest additions in VM...
    default: The guest additions on this VM do not match the installed version of
    default: VirtualBox! In most cases this is fine, but in rare cases it can
    default: prevent things such as shared folders from working properly. If you see
    default: shared folder errors, please make sure the guest additions within the
    default: virtual machine match the version of VirtualBox you have installed on
    default: your host and reload your VM.
    default:
    default: Guest Additions Version: 4.3.28
    default: VirtualBox Version: 5.1
The following SSH command responded with a non-zero exit status.
Vagrant assumes that this means the command failed!

yum install -y kernel-devel-`uname -r` gcc binutils make perl bzip2

Stdout from the command:



Stderr from the command:

sudo: sorry, you must have a tty to run sudo

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/vagdemo
$

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/vagdemo
$ vagrant ssh
Last login: Wed Jan  4 17:40:26 2017 from 10.0.2.2
Welcome to your Packer-built virtual machine.
[vagrant@localhost ~]$ sudo su
[root@localhost vagrant]# docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
[root@localhost vagrant]# docker ps -a
CONTAINER ID        IMAGE               COMMAND                CREATED             STATUS                       PORTS               NAMES
d8490999e9c0        jenkins:1.625.2     "/bin/tini -- /usr/l   5 minutes ago       Exited (130) 2 minutes ago                       drunk_meitner
[root@localhost vagrant]# docker restart d8
d8
[root@localhost vagrant]# docker ps
CONTAINER ID        IMAGE               COMMAND                CREATED             STATUS              PORTS                                              NAMES
d8490999e9c0        jenkins:1.625.2     "/bin/tini -- /usr/l   5 minutes ago       Up 4 seconds        0.0.0.0:8080->8080/tcp, 0.0.0.0:50000->50000/tcp   drunk_meitner
[root@localhost vagrant]# Connection to 127.0.0.1 closed by remote host.
Connection to 127.0.0.1 closed.

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/vagdemo
$ vagrant up



















nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag
$ git clone https://github.com/sriharinsh/testgit.git
Cloning into 'testgit'...
warning: You appear to have cloned an empty repository.

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag
$ cd testgit/

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ touch testfile

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git status
On branch master

Initial commit

Untracked files:
  (use "git add <file>..." to include in what will be committed)

        testfile

nothing added to commit but untracked files present (use "git add" to track)

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git add .

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git status
On branch master

Initial commit

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)

        new file:   testfile


nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git commit -m "initial commit"

*** Please tell me who you are.

Run

  git config --global user.email "you@example.com"
  git config --global user.name "Your Name"

to set your account's default identity.
Omit --global to set the identity only in this repository.

fatal: empty ident name (for <(null)>) not allowed

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git status
On branch master

Initial commit

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)

        new file:   testfile


nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git push
error: src refspec master does not match any.
error: failed to push some refs to 'https://github.com/sriharinsh/testgit.git'

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git status
On branch master

Initial commit

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)

        new file:   testfile


nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git commit -m "initial commit"

*** Please tell me who you are.

Run

  git config --global user.email "you@example.com"
  git config --global user.name "Your Name"

to set your account's default identity.
Omit --global to set the identity only in this repository.

fatal: empty ident name (for <(null)>) not allowed

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git config --global srihari.nsh@gmail.com

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git commit -m "initial commit"

*** Please tell me who you are.

Run

  git config --global user.email "you@example.com"
  git config --global user.name "Your Name"

to set your account's default identity.
Omit --global to set the identity only in this repository.

fatal: empty ident name (for <(null)>) not allowed

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git config --global user.name srihari

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git config --global user.email srihari.nsg@gmail.com

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git commit -m "initial commit"
[master (root-commit) f002678] initial commit
 1 file changed, 1 insertion(+)
 create mode 100644 testfile

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git push
Counting objects: 3, done.
Writing objects: 100% (3/3), 218 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://github.com/sriharinsh/testgit.git
 * [new branch]      master -> master

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

        modified:   testfile

no changes added to commit (use "git add" and/or "git commit -a")

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git add .

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)

        modified:   testfile


nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git commit -m "commit 2"
[master c615ae3] commit 2
 1 file changed, 6 insertions(+), 1 deletion(-)

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git push
Counting objects: 3, done.
Writing objects: 100% (3/3), 260 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://github.com/sriharinsh/testgit.git
   f002678..c615ae3  master -> master

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git add .

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)

        modified:   testfile


nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git commit -m "commit 3"
[master 8ef0ad6] commit 3
 1 file changed, 2 insertions(+), 1 deletion(-)

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$ git push
Counting objects: 3, done.
Writing objects: 100% (3/3), 261 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://github.com/sriharinsh/testgit.git
   c615ae3..8ef0ad6  master -> master

nag@DESKTOP-9JHD6TO MINGW64 ~/Desktop/demovag/testgit (master)
$

